<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico">
		<!-- 网站作者 -->
		<meta name="author" content="51区块研发团队">
		<!-- 网站关键词 -->
		<meta name="keywords" content="51区块,数字资产">
		<!-- 网站描述 -->
		<meta name="description" content="51区块">

		<title>实物资产| 51区块</title>

		<!-- Bootstrap.css -->
		<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css">

		<!-- bootstrapValidator.css -->
		<link rel="stylesheet" href="//cdn.bootcss.com/bootstrap-validator/0.5.3/css/bootstrapValidator.min.css">

		<!-- public.css -->
		<link rel="stylesheet" href="/css/public.css">

		<!-- jQuery.js 1.11.1-->
		<script src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>

		<!-- Bootstrap.js -->
		<script src="http://cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>

		<!-- vue.js -->
		<script src="//cdn.bootcss.com/vue/1.0.24/vue.js"></script>
		<script src="//cdn.bootcss.com/vue-router/0.7.10/vue-router.min.js"></script>

		<!-- jquery.cookie.js -->
		<script src="//cdn.bootcss.com/jquery-cookie/1.4.1/jquery.cookie.js"></script>
		<link href="/css/animate.css" rel="stylesheet">
	    <link href="/css/style.css?v=4.1.0" rel="stylesheet">

	        <!-- 表格 -->
		<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.0/bootstrap-table.min.css">
		<script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.0/bootstrap-table.min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.0/locale/bootstrap-table-zh-CN.min.js"></script>
	</head>
	<body class="gray-bg">
	    <div class="wrapper wrapper-content animated fadeIn container-fluid">
	        <div class="row">
	            <div class="col-sm-12">
	                 <!-- <h3 class="">
	                	
	                </h3> -->
	                <h3 class="bs-callout-success">
	                	实物资产
		            </h3>
	            </div>
	        </div>
	        <div class="col-sm-12">

	        	<table id="table2" data-toggle="table" data-pagination="true" data-search="true" data-use-row-attr-func="true" data-reorderable-rows="true">
					<thead>
						<tr>
							<th data-field="name">
								资产名称
							</th>
							<th data-field="valuation">
								资产估值
							</th>
							<th data-field="start_time" data-sortable="true">
								发行时间
							</th>
							<th data-field="last_time">
								到期时间
							</th>
							<!--<th data-field="can_trade" data-sortable="true">-->
								<!--可交易份额-->
							<!--</th>-->
							<th data-field="guarantee">
								担保公司
							</th>
							<th data-field="status" >
								状态
							</th>
							<th data-field="operation" data-sortable="true">
								操作
							</th>
						</tr>
					</thead>
				</table>
	        </div>
	    </div>
	    <script>

			var data = [];
			// 表格嵌入数据
			$.ajax({
				url : "/assets/assetsList",
				type : "get",
				async: false,
				success: function(result){
					console.log(result);
//					var da = JSON.parse(result);
					for (var i = 0; i < result.data.length; i++) {
						data[i] = new Array();
						// 点击资产名称跳连接
						data[i].name = "<a href=" + "/assetsDetail/"+result.data[i].assetId+">" + result.data[i].name + "</a>";
						data[i].valuation = ""+result.data[i]["value"]+"";
						if(result.data[i]["startTime"]==null){
							data[i].start_time = ""
						}else {
							data[i].start_time = ""+result.data[i]["startTime"]+"";
						}
						if(result.data[i]["endTime"]==null){
							data[i].last_time = ""
						}else{
							data[i].last_time = ""+result.data[i]["endTime"]+"";
						}
						for(var j=0;j<result.data[i]["operation"].length;j++){
							data[i].operation = new Array();
							data[i].operation.push("<a href=\"assets/"+result.data[i].assetId+"/issue\">"+result.data[i]["operation"][j]["message"]+"</a>");
						}
//						data[i].can_trade = ""+result.data[i]["tradeShare"]+"";
						data[i].guarantee = ""+result.data[i]["guarName"]+"";
						data[i].status = ""+result.data[i]["statusStr"]+"";
					}
				}
			})
			$("#table2").bootstrapTable({
				data:data
			});
			// 插入登记按钮
			$(".fixed-table-toolbar").append('<a  class="btn btn-success" href="check-in.html">+ 登记资产</a>');

			// })

	    </script>
</html>