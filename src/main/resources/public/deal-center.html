<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico">
    <!-- 网站作者 -->
    <meta name="author" content="51区块研发团队">
    <!-- 网站关键词 -->
    <meta name="keywords" content="51区块,数字资产">
    <!-- 网站描述 -->
    <meta name="description" content="51区块">

    <title>交易中心| 51区块</title>

    <!-- Bootstrap.css -->
    <link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css">

    <!-- bootstrapValidator.css -->
    <link rel="stylesheet" href="//cdn.bootcss.com/bootstrap-validator/0.5.3/css/bootstrapValidator.min.css">

    <!-- public.css -->
    <link rel="stylesheet" href="/css/public.css">

    <!-- jQuery.js 1.11.1-->
    <script src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>

    <!-- Bootstrap.js -->
    <script src="http://cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>

    <!-- vue.js -->
    <script src="//cdn.bootcss.com/vue/1.0.24/vue.js"></script>
    <script src="//cdn.bootcss.com/vue-router/0.7.10/vue-router.min.js"></script>

    <!-- jquery.cookie.js -->
    <script src="//cdn.bootcss.com/jquery-cookie/1.4.1/jquery.cookie.js"></script>

    <!-- 表格 -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.0/bootstrap-table.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.0/bootstrap-table.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.0/locale/bootstrap-table-zh-CN.min.js"></script>
    <link href="../css/animate.css" rel="stylesheet">
    <link href="../css/style.css?v=4.1.0" rel="stylesheet">
    <style>

        a {
            color: #666;
        }
    </style>
</head>
<body class="gray-bg">
<div class="wrapper wrapper-content animated fadeIn container-fluid">
    <div class="row">
        <div class="col-sm-12">
            <!-- <h3 class="">

           </h3> -->
            <h3 class="bs-callout-success text-success">
                交易中心
            </h3>
        </div>
    </div>
    <div class="col-sm-12">
        <table id="table2" data-toggle="table" data-pagination="true" data-search="true" data-use-row-attr-func="true"
               data-reorderable-rows="true">
            <thead>
            <tr>
                <th data-field="name">
                    资产名称
                </th>
                <th data-field="id">
                    资产编号
                </th>
                <th data-field="share" data-sortable="true">
                    流通份额
                </th>
                <th data-field="proportion">
                    占资产比例
                </th>
                <th data-field="forecast" data-sortable="true">
                    资产估计
                </th>
                <th data-field="last_time">
                    到期时间
                </th>
                <th data-field="guarantee">
                    担保公司
                </th>
                <th data-field="premium" data-sortable="true">
                    预期每股回购溢价
                </th>
            </tr>
            </thead>
        </table>
    </div>

</div>
<!-- 全局js -->
<script src="../js/plugins/jquery.metisMenu.js"></script>
<!-- 滚动条 -->
<script src="../js/plugins/jquery.slimscroll.min.js"></script>
<!-- 公共js文件 -->
<script src="../js/public.js"></script>
<!-- 第三方插件 -->
<script src="../js/plugins/pace.min.js"></script>
<script>
    // 表格模拟数据 后台删除。
    console.log(window.parent.roleNum);
    var data = new Array();
    // 表格嵌入数据
    $.get('/assets/trade', function (result) {
        //成功返回表格数据
        for (var i = 0; i < result.data.length; i++) {
            console.log(result.data[i]["guaranteed"]);
            // 点击资产名称跳连接
            data[i] = new Array();
            if(result.data[i]["guaranteed"]==true){
                data[i]["guarantee"]=result.data[i]["guraName"];
            }else{
                data[i]["guarantee"]="";
            }
            data[i]["name"]="<a href=" + "/assetsDetail/assign/"+result.data[i].assetId+">" + result.data[i].assetName + "";
            data[i]["id"]=result.data[i].assetId;
            data[i]["share"]=result.data[i]["availShare"]+"股";
            data[i]["proportion"]=result.data[i]["percent"]+"%";
            data[i]["forecast"]=result.data[i]["value"]+"元";
            data[i]["last_time"]=result.data[i]["endTime"];
            data[i]["premium"]=result.data[i]["expEarnings"]+"%";
        }
        console.log(data);
        $("#table2").bootstrapTable("load",{
            data: data
        });
    })
</script>
</body>
</html>